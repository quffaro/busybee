#!/bin/bash

Usage() { echo "Usage:" 1>&2; exit 1; }

while getopts "spm" arg; do
	case "$arg" in
		s)
			tgt="saplings"
			;;
		p)
			pollen=true
			;;
		m)
			macros=true
			;;
		*)
			;;
	esac
done
shift $((OPTIND-1))

if [ "$pollen" = true ] ; then
	vim "$BBHOME/src/pollen.rkt"
elif [ "$macros" = true ] ; then
	vim "$BBHOME/trees/macros.tree"
else
	tgt="${tgt:-flowering}"
	fd -e '.tree.pm' --search-path "$BBHOME/src/posts/drafts" | fzf --bind "enter:become(vim {})"
fi
